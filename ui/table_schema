CREATE TABLE user_diet (
    dietary_restrictions varchar(500) NOT NULL,
    user_id integer NOT NULL,
    FOREIGN KEY(user_id) REFERENCES user_signup_user_data(id)
);

DROP TABLE table_name;  # drops everything
DELETE FROM table_name;  # removes content
SELECT * FROM user_diet;
SELECT * FROM user_signup_user_data;
SELECT * FROM user_signup_user_data JOIN user_diet ON user_signup_user_data.user_id = user_diet.user_id;
SELECT * FROM user_signup_user_data JOIN auth_user ON user_signup_user_data.user_id = auth_user.id;


CREATE TABLE blacklisted_recipes (
    id integer NOT NULL PRIMARY KEY AUTOINCREMENT,
    recipe_id integer NOT NULL,
    user_id integer NOT NULL,
    reason varchar(500) NOT NULL,
    FOREIGN KEY(recipe_id) REFERENCES recipes(id),
    FOREIGN KEY(user_id) REFERENCES auth_user(id)
);
_______________________
CREATE TABLE recipes(
"recipe_num" INTEGER,
"title" TEXT,
"url" TEXT,
"image" TEXT,
"servings" INTEGER,
"prep_time" INTEGER,
"cook_time" INTEGER,
"total_time" INTEGER,
"n_reviews" INTEGER,
"avg_review" REAL);


CREATE TABLE ingred_codes(
  "ingredient_id" INTEGER,
  "name" TEXT
);

CREATE TABLE recipe_cats(
  "recipe_num" INTEGER,
  "category" TEXT
);

CREATE TABLE recipe_ingred(
  "recipe_num" INTEGER,
  "amount" REAL,
  "unit" TEXT,
  "ingredient_id" INTEGER
);

delete from recipe_ingred  where unit = 'unit';
delete from recipe_cats where category = 'category';
delete from ingred_codes where name = 'name';
delete from recipes where prep_time = 'prep_time';


CREATE TABLE blacklisted_recipes (
    id integer NOT NULL PRIMARY KEY AUTOINCREMENT,
    recipe_num integer NOT NULL,
    user_id integer NOT NULL,
    reason varchar(500) NOT NULL,
    FOREIGN KEY(recipe_num) REFERENCES recipes(recipe_num),
    FOREIGN KEY(user_id) REFERENCES auth_user(id));
______________

CREATE TABLE user_recipes_rating (
    id integer NOT NULL PRIMARY KEY AUTOINCREMENT,
    recipe_id integer NOT NULL,
    user_id integer NOT NULL,
    rating integer,
    week integer NOT NULL
);



INSERT INTO recipes (name, ingredients, amounts, categories, link, image) VALUES ("Pork Dumplings", "wonton wrappers, ground pork, garlic, green onion, soy sauce, sesame oil", "100, "1.75lb, 1T, 4clove, 2T, 4T, 3T, 1, 5C", "asian, chinese", "https://www.allrecipes.com/recipe/14759/pork-dumplings/", "https://images.media-allrecipes.com/userphotos/560x315/704866.jpg");
Easy Lemon-Pepper Blackened Salmon| butter, lemon juice, parsley, garlic powder, salt, black pepper, black peppercorns, salmon fillet, olive oil| 2T, 2T, 1t, 0.5t, *, 1T, 4, 2T| pescatarian| https://www.allrecipes.com/recipe/156814/easy-lemon-pepper-blackened-salmon/| https://images.media-allrecipes.com/userphotos/560x315/7249818.jpg
Pork Dumplings| wonton wrappers, ground pork, garlic, green onion, soy sauce, sesame oil, egg, Chinese cabbage| 100, 1.75lb, 1T, 4clove, 2T, 4T, 3T, 1, 5C| asian, chinese| https://www.allrecipes.com/recipe/14759/pork-dumplings/| https://images.media-allrecipes.com/userphotos/560x315/704866.jpg
Quinoa and Black Beans| vegetable oil, onion, garlic, quinoa, vegetable broth, cumin, cayenne pepper, salt, black pepper, corn kernels, black beans, cilantro| 1t, 1, 3cloves, 0.75C, 1.5C, 1t, 0.25t, *, 1C, 30oz, 0.5C| vegetarian, vegan| https://www.allrecipes.com/recipe/49552/quinoa-and-black-beans/| https://images.media-allrecipes.com/userphotos/560x315/357989.jpg
Â© 2020 GitHub, Inc.
